import{S as P,i as F,s as G,aD as H,u as N,W as O,G as b,a as w,e as v,B as k,ai as B,H as V,f,g as T,c as D,d as y,C as S,A as U,I as j,j as d,a3 as M,X as W,m as $,t as g,L as E,_ as X,Y,Z,$ as z,aE as J,b as A,k as K,l as Q,D as C,r as L}from"../../../../chunks/vendor-556bddb0.js";import{p as R}from"../../../../chunks/routing-689f9c1f.js";import{q as x,r as ee}from"../../../../chunks/graphql-4793b2e5.js";import{T as te}from"../../../../chunks/Toast-9a5a4434.js";import{g as se}from"../../../../chunks/navigation-d7362a67.js";import{S as re}from"../../../../chunks/SMLVersionForm-c484e88a.js";import{b as ne}from"../../../../chunks/paths-396f020f.js";import{M as oe}from"../../../../chunks/MetaDescriptors-27aa6f3e.js";import"../../../../chunks/singletons-d19c42e4.js";import"../../../../chunks/forms-77c0974d.js";import"../../../../chunks/forms-893033cc.js";import"../../../../chunks/markdown-17d20b45.js";import"../../../../chunks/extras-2ac9de80.js";import"../../../../chunks/stores-e6767543.js";function ae(i){let e,s;return e=new re({props:{onSubmit:i[5],initialValues:i[3],submitText:"Save"}}),{c(){b(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){j(e,t,r),s=!0},p(t,r){const l={};r&8&&(l.initialValues=t[3]),e.$set(l)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function ie(i){let e,s,t=i[1].error.message+"",r;return{c(){e=v("p"),s=k("Oh no... "),r=k(t)},l(l){e=D(l,"P",{});var a=y(e);s=S(a,"Oh no... "),r=S(a,t),a.forEach(f)},m(l,a){d(l,e,a),M(e,s),M(e,r)},p(l,a){a&2&&t!==(t=l[1].error.message+"")&&C(r,t)},i:L,o:L,d(l){l&&f(e)}}}function le(i){let e,s;return{c(){e=v("p"),s=k("Loading...")},l(t){e=D(t,"P",{});var r=y(e);s=S(r,"Loading..."),r.forEach(f)},m(t,r){d(t,e,r),M(e,s)},p:L,i:L,o:L,d(t){t&&f(e)}}}function ce(i){let e,s,t,r;const l=[le,ie,ae],a=[];function m(o,u){return o[1].fetching?0:o[1].error?1:2}return e=m(i),s=a[e]=l[e](i),{c(){s.c(),t=A()},l(o){s.l(o),t=A()},m(o,u){a[e].m(o,u),d(o,t,u),r=!0},p(o,u){let _=e;e=m(o),e===_?a[e].p(o,u):(K(),g(a[_],1,1,()=>{a[_]=null}),Q(),s=a[e],s?s.p(o,u):(s=a[e]=l[e](o),s.c()),$(s,1),s.m(t.parentNode,t))},i(o){r||($(s),r=!0)},o(o){g(s),r=!1},d(o){a[e].d(o),o&&f(t)}}}function me(i){let e,s;return e=new J({props:{$$slots:{default:[ce]},$$scope:{ctx:i}}}),{c(){b(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){j(e,t,r),s=!0},p(t,r){const l={};r&522&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function fe(i){let e,s;return{c(){e=v("span"),s=k(i[2])},l(t){e=D(t,"SPAN",{});var r=y(e);s=S(r,i[2]),r.forEach(f)},m(t,r){d(t,e,r),M(e,s)},p(t,r){r&4&&C(s,t[2])},d(t){t&&f(e)}}}function ue(i){let e,s,t,r,l,a,m,o,u,_;e=new oe({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"}}),a=new H({props:{$$slots:{default:[me]},$$scope:{ctx:i}}});function I(n){i[7](n)}let p={$$slots:{default:[fe]},$$scope:{ctx:i}};return i[0]!==void 0&&(p.running=i[0]),o=new te({props:p}),N.push(()=>O(o,"running",I)),{c(){b(e.$$.fragment),s=w(),t=v("h1"),r=k("Edit SMLVersion"),l=w(),b(a.$$.fragment),m=w(),b(o.$$.fragment),this.h()},l(n){const c=B('[data-svelte="svelte-7e9nlv"]',document.head);V(e.$$.fragment,c),c.forEach(f),s=T(n),t=D(n,"H1",{class:!0});var h=y(t);r=S(h,"Edit SMLVersion"),h.forEach(f),l=T(n),V(a.$$.fragment,n),m=T(n),V(o.$$.fragment,n),this.h()},h(){U(t,"class","text-4xl my-4 font-bold")},m(n,c){j(e,document.head,null),d(n,s,c),d(n,t,c),M(t,r),d(n,l,c),j(a,n,c),d(n,m,c),j(o,n,c),_=!0},p(n,[c]){const h={};c&522&&(h.$$scope={dirty:c,ctx:n}),a.$set(h);const q={};c&516&&(q.$$scope={dirty:c,ctx:n}),!u&&c&1&&(u=!0,q.running=n[0],W(()=>u=!1)),o.$set(q)},i(n){_||($(e.$$.fragment,n),$(a.$$.fragment,n),$(o.$$.fragment,n),_=!0)},o(n){g(e.$$.fragment,n),g(a.$$.fragment,n),g(o.$$.fragment,n),_=!1},d(n){E(e),n&&f(s),n&&f(t),n&&f(l),E(a,n),n&&f(m),E(o,n)}}}const De=R();function pe(i,e,s){let t,r,{smlVersionId:l}=e,a="",m=!1;const o=X(x,{smlVersionID:l});Y(i,o,p=>s(1,r=p));const u=Z({query:ee}),_=p=>{u({smlVersionID:l,smlVersion:p}).then(n=>{n.error?(console.error(n.error.message),s(2,a="Error editing sMLVersion: "+n.error.message),s(0,m=!0)):se(ne+"/admin/sml-versions")})};z(o);function I(p){m=p,s(0,m)}return i.$$set=p=>{"smlVersionId"in p&&s(6,l=p.smlVersionId)},i.$$.update=()=>{i.$$.dirty&1&&(m||s(2,a="")),i.$$.dirty&2&&s(3,t=r.data?{...r.data.getSMLVersion,logo:void 0}:void 0)},[m,r,a,t,o,_,l,I]}class ye extends P{constructor(e){super();F(this,e,pe,ue,G,{smlVersionId:6})}}export{ye as default,De as load};
//# sourceMappingURL=edit.svelte-2493dd4e.js.map
