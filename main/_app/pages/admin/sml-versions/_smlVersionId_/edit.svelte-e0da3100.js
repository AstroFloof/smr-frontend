import{S as C,i as F,s as N,bc as G,I as H,J as O,K as b,d as D,e as v,a8 as k,aW as J,L as V,j as m,f as T,g as w,h as y,a9 as S,Y as K,N as j,l as d,Z as M,P as Q,v as $,w as g,Q as L,aG as U,a3 as W,aF as Y,aH as Z,bd as z,a7 as P,$ as B,a0 as R,aa as A,ad as E}from"../../../../chunks/vendor-ec5ada1e.js";import{p as X}from"../../../../chunks/routing-689f9c1f.js";import{q as x,r as ee}from"../../../../chunks/graphql-b763070c.js";import{T as te}from"../../../../chunks/Toast-ae7e9d4e.js";import{g as se}from"../../../../chunks/navigation-d7362a67.js";import{S as ne}from"../../../../chunks/SMLVersionForm-67e6e439.js";import{b as re}from"../../../../chunks/paths-396f020f.js";import{M as oe}from"../../../../chunks/MetaDescriptors-906e206a.js";import"../../../../chunks/singletons-d19c42e4.js";import"../../../../chunks/forms-2be97dc2.js";import"../../../../chunks/forms-41b68a57.js";import"../../../../chunks/markdown-e391b8a1.js";import"../../../../chunks/extras-7497b851.js";import"../../../../chunks/stores-bab812ef.js";function ae(i){let e,s;return e=new ne({props:{onSubmit:i[5],initialValues:i[3],submitText:"Save"}}),{c(){b(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,n){j(e,t,n),s=!0},p(t,n){const l={};n&8&&(l.initialValues=t[3]),e.$set(l)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){L(e,t)}}}function ie(i){let e,s,t=i[1].error.message+"",n;return{c(){e=v("p"),s=k("Oh no... "),n=k(t)},l(l){e=w(l,"P",{});var a=y(e);s=S(a,"Oh no... "),n=S(a,t),a.forEach(m)},m(l,a){d(l,e,a),M(e,s),M(e,n)},p(l,a){a&2&&t!==(t=l[1].error.message+"")&&A(n,t)},i:E,o:E,d(l){l&&m(e)}}}function le(i){let e,s;return{c(){e=v("p"),s=k("Loading...")},l(t){e=w(t,"P",{});var n=y(e);s=S(n,"Loading..."),n.forEach(m)},m(t,n){d(t,e,n),M(e,s)},p:E,i:E,o:E,d(t){t&&m(e)}}}function ce(i){let e,s,t,n;const l=[le,ie,ae],a=[];function f(o,u){return o[1].fetching?0:o[1].error?1:2}return e=f(i),s=a[e]=l[e](i),{c(){s.c(),t=P()},l(o){s.l(o),t=P()},m(o,u){a[e].m(o,u),d(o,t,u),n=!0},p(o,u){let _=e;e=f(o),e===_?a[e].p(o,u):(B(),g(a[_],1,1,()=>{a[_]=null}),R(),s=a[e],s?s.p(o,u):(s=a[e]=l[e](o),s.c()),$(s,1),s.m(t.parentNode,t))},i(o){n||($(s),n=!0)},o(o){g(s),n=!1},d(o){a[e].d(o),o&&m(t)}}}function fe(i){let e,s;return e=new z({props:{$$slots:{default:[ce]},$$scope:{ctx:i}}}),{c(){b(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,n){j(e,t,n),s=!0},p(t,n){const l={};n&522&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){L(e,t)}}}function me(i){let e,s;return{c(){e=v("span"),s=k(i[2])},l(t){e=w(t,"SPAN",{});var n=y(e);s=S(n,i[2]),n.forEach(m)},m(t,n){d(t,e,n),M(e,s)},p(t,n){n&4&&A(s,t[2])},d(t){t&&m(e)}}}function ue(i){let e,s,t,n,l,a,f,o,u,_;e=new oe({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"}}),a=new G({props:{$$slots:{default:[fe]},$$scope:{ctx:i}}});function I(r){i[7](r)}let p={$$slots:{default:[me]},$$scope:{ctx:i}};return i[0]!==void 0&&(p.running=i[0]),o=new te({props:p}),H.push(()=>O(o,"running",I)),{c(){b(e.$$.fragment),s=D(),t=v("h1"),n=k("Edit SMLVersion"),l=D(),b(a.$$.fragment),f=D(),b(o.$$.fragment),this.h()},l(r){const c=J('[data-svelte="svelte-7e9nlv"]',document.head);V(e.$$.fragment,c),c.forEach(m),s=T(r),t=w(r,"H1",{class:!0});var h=y(t);n=S(h,"Edit SMLVersion"),h.forEach(m),l=T(r),V(a.$$.fragment,r),f=T(r),V(o.$$.fragment,r),this.h()},h(){K(t,"class","text-4xl my-4 font-bold")},m(r,c){j(e,document.head,null),d(r,s,c),d(r,t,c),M(t,n),d(r,l,c),j(a,r,c),d(r,f,c),j(o,r,c),_=!0},p(r,[c]){const h={};c&522&&(h.$$scope={dirty:c,ctx:r}),a.$set(h);const q={};c&516&&(q.$$scope={dirty:c,ctx:r}),!u&&c&1&&(u=!0,q.running=r[0],Q(()=>u=!1)),o.$set(q)},i(r){_||($(e.$$.fragment,r),$(a.$$.fragment,r),$(o.$$.fragment,r),_=!0)},o(r){g(e.$$.fragment,r),g(a.$$.fragment,r),g(o.$$.fragment,r),_=!1},d(r){L(e),r&&m(s),r&&m(t),r&&m(l),L(a,r),r&&m(f),L(o,r)}}}const we=X();function pe(i,e,s){let t,n,{smlVersionId:l}=e,a="",f=!1;const o=U(x,{smlVersionID:l});W(i,o,p=>s(1,n=p));const u=Y({query:ee}),_=p=>{u({smlVersionID:l,smlVersion:p}).then(r=>{r.error?(console.error(r.error.message),s(2,a="Error editing sMLVersion: "+r.error.message),s(0,f=!0)):se(re+"/admin/sml-versions")})};Z(o);function I(p){f=p,s(0,f)}return i.$$set=p=>{"smlVersionId"in p&&s(6,l=p.smlVersionId)},i.$$.update=()=>{i.$$.dirty&1&&(f||s(2,a="")),i.$$.dirty&2&&s(3,t=n.data?{...n.data.getSMLVersion,logo:void 0}:void 0)},[f,n,a,t,o,_,l,I]}class ye extends C{constructor(e){super();F(this,e,pe,ue,N,{smlVersionId:6})}}export{ye as default,we as load};
//# sourceMappingURL=edit.svelte-e0da3100.js.map
