import{S as Je,i as ye,s as xe,b as Ie,k as q,r as B,g as u,_ as ht,Y as et,$ as vt,aK as bt,e as p,B as R,c as $,f as b,C as H,A as g,a3 as o,a as I,h as S,D as X,aU as ce,u as de,W as _e,aQ as tt,G as U,H as N,I as L,n as w,t as D,L as M,l as Se,m as Ae,X as me,aa as wt,a4 as ze,aV as kt,aR as Et,aW as Dt,ar as st}from"./vendor-1e069c58.js";import{o as at,s as fe,b as Oe,c as Vt,l as It,V as ge,_ as St,e as At,a as Pt}from"./forms-03cc218f.js";import{t as qt}from"./forms-9437931d.js";import{m as rt}from"./markdown-17d20b45.js";import{h as Tt}from"./graphql-4793b2e5.js";import{a as lt}from"./paths-396f020f.js";const nt=at({name:fe().min(3).max(32),mod_reference:fe().min(3).max(32).regex(/^([a-zA-Z][a-zA-Z0-9_]*)$/).refine(async()=>!0),short_description:fe().min(16).max(128),full_description:Oe(fe()),logo:Oe(Vt().refine(r=>"name"in r&&"size"in r&&"type"in r)),source_url:fe().url().optional().or(It("")),authors:Oe(at({role:fe(),user_id:fe()}).array())});function Ut(r){let e,t;return{c(){e=p("p"),t=R("Unknown User ID"),this.h()},l(s){e=$(s,"P",{class:!0});var a=b(e);t=H(a,"Unknown User ID"),a.forEach(u),this.h()},h(){g(e,"class","mr-2 whitespace-nowrap")},m(s,a){q(s,e,a),o(e,t)},p:B,d(s){s&&u(e)}}}function Nt(r){let e,t,s,a,l,f,V=r[0].data.getUser.username+"",m;return{c(){e=p("div"),t=p("div"),a=I(),l=p("div"),f=p("span"),m=R(V),this.h()},l(k){e=$(k,"DIV",{class:!0});var i=b(e);t=$(i,"DIV",{class:!0,style:!0}),b(t).forEach(u),a=S(i),l=$(i,"DIV",{class:!0});var h=b(l);f=$(h,"SPAN",{class:!0});var c=b(f);m=H(c,V),c.forEach(u),h.forEach(u),i.forEach(u),this.h()},h(){g(t,"class","rounded-full bg-cover w-7 h-7"),g(t,"style",s=`background-image: url("${r[0].data.getUser.avatar||lt+"/images/no_image.png"}")`),g(f,"class","text-yellow-500"),g(l,"class","grid grid-flow-row"),g(e,"class","grid grid-flow-col auto-cols-max gap-x-2 mr-2")},m(k,i){q(k,e,i),o(e,t),o(e,a),o(e,l),o(l,f),o(f,m)},p(k,i){i&1&&s!==(s=`background-image: url("${k[0].data.getUser.avatar||lt+"/images/no_image.png"}")`)&&g(t,"style",s),i&1&&V!==(V=k[0].data.getUser.username+"")&&X(m,V)},d(k){k&&u(e)}}}function Lt(r){let e,t,s=r[0].error.message+"",a;return{c(){e=p("p"),t=R("Oh no... "),a=R(s),this.h()},l(l){e=$(l,"P",{class:!0});var f=b(e);t=H(f,"Oh no... "),a=H(f,s),f.forEach(u),this.h()},h(){g(e,"class","mr-2")},m(l,f){q(l,e,f),o(e,t),o(e,a)},p(l,f){f&1&&s!==(s=l[0].error.message+"")&&X(a,s)},d(l){l&&u(e)}}}function Mt(r){let e,t;return{c(){e=p("p"),t=R("Loading..."),this.h()},l(s){e=$(s,"P",{class:!0});var a=b(e);t=H(a,"Loading..."),a.forEach(u),this.h()},h(){g(e,"class","mr-2")},m(s,a){q(s,e,a),o(e,t)},p:B,d(s){s&&u(e)}}}function jt(r){let e;function t(l,f){return l[0].fetching?Mt:l[0].error?Lt:l[0].data.getUser?Nt:Ut}let s=t(r),a=s(r);return{c(){a.c(),e=Ie()},l(l){a.l(l),e=Ie()},m(l,f){a.m(l,f),q(l,e,f)},p(l,[f]){s===(s=t(l))&&a?a.p(l,f):(a.d(1),a=s(l),a&&(a.c(),a.m(e.parentNode,e)))},i:B,o:B,d(l){a.d(l),l&&u(e)}}}function Rt(r,e,t){let s,{id:a}=e;const l=ht(Tt,{user:a});return et(r,l,f=>t(0,s=f)),vt(l),r.$$set=f=>{"id"in f&&t(2,a=f.id)},r.$$.update=()=>{r.$$.dirty&5&&(bt(l,s.variables.user=a,s),s.reexecute())},[s,l,a]}class Ht extends Je{constructor(e){super();ye(this,e,Rt,jt,xe,{id:2})}}function it(r,e,t){const s=r.slice();return s[17]=e[t],s[18]=e,s[19]=t,s}function Bt(r){let e,t=(r[20]||"")+"",s;return{c(){e=p("span"),s=R(t),this.h()},l(a){e=$(a,"SPAN",{class:!0});var l=b(e);s=H(l,t),l.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(a,l){q(a,e,l),o(e,s)},p(a,l){l&1048576&&t!==(t=(a[20]||"")+"")&&X(s,t)},d(a){a&&u(e)}}}function ot(r){let e;return{c(){e=R(`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},l(t){e=H(t,`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},m(t,s){q(t,e,s)},d(t){t&&u(e)}}}function Ct(r){let e,t=!r[1]&&ot();return{c(){t&&t.c(),e=Ie()},l(s){t&&t.l(s),e=Ie()},m(s,a){t&&t.m(s,a),q(s,e,a)},p(s,a){s[1]?t&&(t.d(1),t=null):t||(t=ot(),t.c(),t.m(e.parentNode,e))},d(s){t&&t.d(s),s&&u(e)}}}function Ft(r){let e,t;return e=new Dt({props:{persistent:!r[1],slot:"helper",$$slots:{default:[Ct]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,a){L(e,s,a),t=!0},p(s,a){const l={};a&2&&(l.persistent=!s[1]),a&4194306&&(l.$$scope={dirty:a,ctx:s}),e.$set(l)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Wt(r){let e,t=(r[20]||"")+"",s;return{c(){e=p("span"),s=R(t),this.h()},l(a){e=$(a,"SPAN",{class:!0});var l=b(e);s=H(l,t),l.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(a,l){q(a,e,l),o(e,s)},p(a,l){l&1048576&&t!==(t=(a[20]||"")+"")&&X(s,t)},d(a){a&&u(e)}}}function zt(r){let e,t=(r[20]||"")+"",s;return{c(){e=p("span"),s=R(t),this.h()},l(a){e=$(a,"SPAN",{class:!0});var l=b(e);s=H(l,t),l.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(a,l){q(a,e,l),o(e,s)},p(a,l){l&1048576&&t!==(t=(a[20]||"")+"")&&X(s,t)},d(a){a&&u(e)}}}function Ot(r){let e,t=(r[20]||"")+"",s;return{c(){e=p("span"),s=R(t),this.h()},l(a){e=$(a,"SPAN",{class:!0});var l=b(e);s=H(l,t),l.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(a,l){q(a,e,l),o(e,s)},p(a,l){l&1048576&&t!==(t=(a[20]||"")+"")&&X(s,t)},d(a){a&&u(e)}}}function Yt(r){return{c:B,l:B,m:B,p:B,d:B}}function Gt(r){let e,t=r[21]+"";return{c(){e=p("div"),this.h()},l(s){e=$(s,"DIV",{class:!0});var a=b(e);a.forEach(u),this.h()},h(){g(e,"class","markdown-content right svelte-k92wki")},m(s,a){q(s,e,a),e.innerHTML=t},p(s,a){a&8&&t!==(t=s[21]+"")&&(e.innerHTML=t)},d(s){s&&u(e)}}}function Zt(r){return{c:B,l:B,m:B,p:B,d:B}}function Kt(r){let e,t=(r[20]||"")+"",s;return{c(){e=p("span"),s=R(t),this.h()},l(a){e=$(a,"SPAN",{class:!0});var l=b(e);s=H(l,t),l.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(a,l){q(a,e,l),o(e,s)},p(a,l){l&1048576&&t!==(t=(a[20]||"")+"")&&X(s,t)},d(a){a&&u(e)}}}function Qt(r){let e,t=(r[20]||"")+"",s;return{c(){e=p("span"),s=R(t),this.h()},l(a){e=$(a,"SPAN",{class:!0});var l=b(e);s=H(l,t),l.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(a,l){q(a,e,l),o(e,s)},p(a,l){l&1048576&&t!==(t=(a[20]||"")+"")&&X(s,t)},d(a){a&&u(e)}}}function ft(r){let e,t,s,a,l,f,V,m;f=new ze({props:{type:"button",$$slots:{default:[Jt]},$$scope:{ctx:r}}}),f.$on("click",r[6]);let k=r[2].authors,i=[];for(let c=0;c<k.length;c+=1)i[c]=dt(it(r,k,c));const h=c=>D(i[c],1,1,()=>{i[c]=null});return{c(){e=p("div"),t=p("div"),s=p("h4"),a=R("Authors"),l=I(),U(f.$$.fragment),V=I();for(let c=0;c<i.length;c+=1)i[c].c();this.h()},l(c){e=$(c,"DIV",{class:!0});var d=b(e);t=$(d,"DIV",{class:!0});var A=b(t);s=$(A,"H4",{class:!0});var E=b(s);a=H(E,"Authors"),E.forEach(u),l=S(A),N(f.$$.fragment,A),A.forEach(u),V=S(d);for(let j=0;j<i.length;j+=1)i[j].l(d);d.forEach(u),this.h()},h(){g(s,"class","mr-4"),g(t,"class","flex items-baseline"),g(e,"class","grid grid-flow-row gap-2")},m(c,d){q(c,e,d),o(e,t),o(t,s),o(s,a),o(t,l),L(f,t,null),o(e,V);for(let A=0;A<i.length;A+=1)i[A].m(e,null);m=!0},p(c,d){const A={};if(d&4194304&&(A.$$scope={dirty:d,ctx:c}),f.$set(A),d&132){k=c[2].authors;let E;for(E=0;E<k.length;E+=1){const j=it(c,k,E);i[E]?(i[E].p(j,d),w(i[E],1)):(i[E]=dt(j),i[E].c(),w(i[E],1),i[E].m(e,null))}for(Se(),E=k.length;E<i.length;E+=1)h(E);Ae()}},i(c){if(!m){w(f.$$.fragment,c);for(let d=0;d<k.length;d+=1)w(i[d]);m=!0}},o(c){D(f.$$.fragment,c),i=i.filter(Boolean);for(let d=0;d<i.length;d+=1)D(i[d]);m=!1},d(c){c&&u(e),M(f),wt(i,c)}}}function Xt(r){let e;return{c(){e=R("Add")},l(t){e=H(t,"Add")},m(t,s){q(t,e,s)},d(t){t&&u(e)}}}function Jt(r){let e,t;return e=new st({props:{$$slots:{default:[Xt]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,a){L(e,s,a),t=!0},p(s,a){const l={};a&4194304&&(l.$$scope={dirty:a,ctx:s}),e.$set(l)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ut(r){let e,t;return e=new Ht({props:{id:r[2].authors[r[19]].user_id}}),{c(){U(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,a){L(e,s,a),t=!0},p(s,a){const l={};a&4&&(l.id=s[2].authors[s[19]].user_id),e.$set(l)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ct(r){let e,t;function s(){return r[16](r[19])}return e=new ze({props:{type:"button",variant:"raised",$$slots:{default:[xt]},$$scope:{ctx:r}}}),e.$on("click",s),{c(){U(e.$$.fragment)},l(a){N(e.$$.fragment,a)},m(a,l){L(e,a,l),t=!0},p(a,l){r=a;const f={};l&4194304&&(f.$$scope={dirty:l,ctx:r}),e.$set(f)},i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){D(e.$$.fragment,a),t=!1},d(a){M(e,a)}}}function yt(r){let e;return{c(){e=R("Remove")},l(t){e=H(t,"Remove")},m(t,s){q(t,e,s)},d(t){t&&u(e)}}}function xt(r){let e,t;return e=new st({props:{$$slots:{default:[yt]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,a){L(e,s,a),t=!0},p(s,a){const l={};a&4194304&&(l.$$scope={dirty:a,ctx:s}),e.$set(l)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function dt(r){let e,t,s,a,l,f,V,m=r[2].authors[r[19]].user_id&&ut(r);function k(c){r[15](c,r[19])}let i={label:"User ID",class:"mr-4 w-full",disabled:r[17].role==="creator"};r[2].authors[r[19]].user_id!==void 0&&(i.value=r[2].authors[r[19]].user_id),s=new ce({props:i}),de.push(()=>_e(s,"value",k));let h=r[17].role!=="creator"&&ct(r);return{c(){e=p("div"),m&&m.c(),t=I(),U(s.$$.fragment),l=I(),h&&h.c(),f=I(),this.h()},l(c){e=$(c,"DIV",{class:!0});var d=b(e);m&&m.l(d),t=S(d),N(s.$$.fragment,d),l=S(d),h&&h.l(d),f=S(d),d.forEach(u),this.h()},h(){g(e,"class","flex items-baseline")},m(c,d){q(c,e,d),m&&m.m(e,null),o(e,t),L(s,e,null),o(e,l),h&&h.m(e,null),o(e,f),V=!0},p(c,d){r=c,r[2].authors[r[19]].user_id?m?(m.p(r,d),d&4&&w(m,1)):(m=ut(r),m.c(),w(m,1),m.m(e,t)):m&&(Se(),D(m,1,1,()=>{m=null}),Ae());const A={};d&4&&(A.disabled=r[17].role==="creator"),!a&&d&4&&(a=!0,A.value=r[2].authors[r[19]].user_id,me(()=>a=!1)),s.$set(A),r[17].role!=="creator"?h?(h.p(r,d),d&4&&w(h,1)):(h=ct(r),h.c(),w(h,1),h.m(e,f)):h&&(Se(),D(h,1,1,()=>{h=null}),Ae())},i(c){V||(w(m),w(s.$$.fragment,c),w(h),V=!0)},o(c){D(m),D(s.$$.fragment,c),D(h),V=!1},d(c){c&&u(e),m&&m.d(),M(s),h&&h.d()}}}function es(r){let e;return{c(){e=R(r[0])},l(t){e=H(t,r[0])},m(t,s){q(t,e,s)},p(t,s){s&1&&X(e,t[0])},d(t){t&&u(e)}}}function ts(r){let e,t,s,a,l,f,V,m,k,i,h,c,d,A,E,j,pe,$e,W,_,F,J,O,Pe,qe,y,Te,Y,he,Ue,Ne,Ee,Le,z,ue,Me,je,G,Re,x,He,ee,Z,Be,Ce,te,Fe,De,ve,se,Ve,We,Ye;function _t(n){r[10](n)}let Ge={label:"Name",required:!0};r[2].name!==void 0&&(Ge.value=r[2].name),a=new ce({props:Ge}),de.push(()=>_e(a,"value",_t)),V=new ge({props:{for:"name",$$slots:{default:[Bt,({messages:n})=>({20:n}),({messages:n})=>n?1048576:0]},$$scope:{ctx:r}}});function mt(n){r[11](n)}let Ze={label:"Mod Reference",required:!0,disabled:r[1],$$slots:{helper:[Ft]},$$scope:{ctx:r}};r[2].mod_reference!==void 0&&(Ze.value=r[2].mod_reference),i=new ce({props:Ze}),de.push(()=>_e(i,"value",mt)),d=new ge({props:{for:"mod_reference",$$slots:{default:[Wt,({messages:n})=>({20:n}),({messages:n})=>n?1048576:0]},$$scope:{ctx:r}}});function gt(n){r[12](n)}let Ke={label:"Short Description",required:!0};r[2].short_description!==void 0&&(Ke.value=r[2].short_description),j=new ce({props:Ke}),de.push(()=>_e(j,"value",gt)),W=new ge({props:{for:"short_description",$$slots:{default:[zt,({messages:n})=>({20:n}),({messages:n})=>n?1048576:0]},$$scope:{ctx:r}}});function pt(n){r[13](n)}let Qe={textarea:!0,class:"vertical-textarea",label:"Full Description",required:!0,input$rows:10};r[2].full_description!==void 0&&(Qe.value=r[2].full_description),O=new ce({props:Qe}),de.push(()=>_e(O,"value",pt)),y=new ge({props:{for:"full_description",$$slots:{default:[Ot,({messages:n})=>({20:n}),({messages:n})=>n?1048576:0]},$$scope:{ctx:r}}});let C={ctx:r,current:null,token:null,hasCatch:!1,pending:Zt,then:Gt,catch:Yt,value:21};tt(Ee=rt(r[3]),C),x=new ge({props:{for:"logo",$$slots:{default:[Kt,({messages:n})=>({20:n}),({messages:n})=>n?1048576:0]},$$scope:{ctx:r}}});function $t(n){r[14](n)}let Xe={label:"Source URL"};r[2].source_url!==void 0&&(Xe.value=r[2].source_url),Z=new ce({props:Xe}),de.push(()=>_e(Z,"value",$t)),te=new ge({props:{for:"source_url",$$slots:{default:[Qt,({messages:n})=>({20:n}),({messages:n})=>n?1048576:0]},$$scope:{ctx:r}}});let P=r[1]&&ft(r);return se=new ze({props:{variant:"outlined",type:"submit",$$slots:{default:[es]},$$scope:{ctx:r}}}),{c(){e=p("form"),t=p("div"),s=p("div"),U(a.$$.fragment),f=I(),U(V.$$.fragment),m=I(),k=p("div"),U(i.$$.fragment),c=I(),U(d.$$.fragment),A=I(),E=p("div"),U(j.$$.fragment),$e=I(),U(W.$$.fragment),_=I(),F=p("div"),J=p("div"),U(O.$$.fragment),qe=I(),U(y.$$.fragment),Te=I(),Y=p("div"),he=p("span"),Ue=R("Preview:"),Ne=I(),C.block.c(),Le=I(),z=p("div"),ue=p("label"),Me=R("Logo:"),je=I(),G=p("input"),Re=I(),U(x.$$.fragment),He=I(),ee=p("div"),U(Z.$$.fragment),Ce=I(),U(te.$$.fragment),Fe=I(),P&&P.c(),De=I(),ve=p("div"),U(se.$$.fragment),this.h()},l(n){e=$(n,"FORM",{});var v=b(e);t=$(v,"DIV",{class:!0});var T=b(t);s=$(T,"DIV",{class:!0});var ae=b(s);N(a.$$.fragment,ae),f=S(ae),N(V.$$.fragment,ae),ae.forEach(u),m=S(T),k=$(T,"DIV",{class:!0});var K=b(k);N(i.$$.fragment,K),c=S(K),N(d.$$.fragment,K),K.forEach(u),A=S(T),E=$(T,"DIV",{class:!0});var re=b(E);N(j.$$.fragment,re),$e=S(re),N(W.$$.fragment,re),re.forEach(u),_=S(T),F=$(T,"DIV",{class:!0});var le=b(F);J=$(le,"DIV",{class:!0});var ne=b(J);N(O.$$.fragment,ne),qe=S(ne),N(y.$$.fragment,ne),ne.forEach(u),Te=S(le),Y=$(le,"DIV",{class:!0});var ie=b(Y);he=$(ie,"SPAN",{});var be=b(he);Ue=H(be,"Preview:"),be.forEach(u),Ne=S(ie),C.block.l(ie),ie.forEach(u),le.forEach(u),Le=S(T),z=$(T,"DIV",{class:!0});var Q=b(z);ue=$(Q,"LABEL",{for:!0});var we=b(ue);Me=H(we,"Logo:"),we.forEach(u),je=S(Q),G=$(Q,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),Re=S(Q),N(x.$$.fragment,Q),Q.forEach(u),He=S(T),ee=$(T,"DIV",{class:!0});var oe=b(ee);N(Z.$$.fragment,oe),Ce=S(oe),N(te.$$.fragment,oe),oe.forEach(u),Fe=S(T),P&&P.l(T),De=S(T),ve=$(T,"DIV",{});var ke=b(ve);N(se.$$.fragment,ke),ke.forEach(u),T.forEach(u),v.forEach(u),this.h()},h(){g(s,"class","grid grid-flow-row gap-2"),g(k,"class","grid grid-flow-row gap-2"),g(E,"class","grid grid-flow-row gap-2"),g(J,"class","grid grid-flow-row gap-2 auto-rows-max"),g(Y,"class","grid grid-flow-row gap-2 auto-rows-max"),g(F,"class","grid gap-6 split svelte-k92wki"),g(ue,"for","logo"),g(G,"id","logo"),g(G,"class","base-input"),g(G,"name","logo"),g(G,"type","file"),g(G,"accept","image/png,image/jpeg,image/gif"),g(G,"placeholder","Logo"),g(z,"class","grid grid-flow-row gap-2"),g(ee,"class","grid grid-flow-row gap-2"),g(t,"class","grid grid-flow-row gap-6")},m(n,v){q(n,e,v),o(e,t),o(t,s),L(a,s,null),o(s,f),L(V,s,null),o(t,m),o(t,k),L(i,k,null),o(k,c),L(d,k,null),o(t,A),o(t,E),L(j,E,null),o(E,$e),L(W,E,null),o(t,_),o(t,F),o(F,J),L(O,J,null),o(J,qe),L(y,J,null),o(F,Te),o(F,Y),o(Y,he),o(he,Ue),o(Y,Ne),C.block.m(Y,C.anchor=null),C.mount=()=>Y,C.anchor=null,o(t,Le),o(t,z),o(z,ue),o(ue,Me),o(z,je),o(z,G),o(z,Re),L(x,z,null),o(t,He),o(t,ee),L(Z,ee,null),o(ee,Ce),L(te,ee,null),o(t,Fe),P&&P.m(t,null),o(t,De),o(t,ve),L(se,ve,null),Ve=!0,We||(Ye=kt(r[4].call(null,e)),We=!0)},p(n,[v]){r=n;const T={};!l&&v&4&&(l=!0,T.value=r[2].name,me(()=>l=!1)),a.$set(T);const ae={};v&5242880&&(ae.$$scope={dirty:v,ctx:r}),V.$set(ae);const K={};v&2&&(K.disabled=r[1]),v&4194306&&(K.$$scope={dirty:v,ctx:r}),!h&&v&4&&(h=!0,K.value=r[2].mod_reference,me(()=>h=!1)),i.$set(K);const re={};v&5242880&&(re.$$scope={dirty:v,ctx:r}),d.$set(re);const le={};!pe&&v&4&&(pe=!0,le.value=r[2].short_description,me(()=>pe=!1)),j.$set(le);const ne={};v&5242880&&(ne.$$scope={dirty:v,ctx:r}),W.$set(ne);const ie={};!Pe&&v&4&&(Pe=!0,ie.value=r[2].full_description,me(()=>Pe=!1)),O.$set(ie);const be={};v&5242880&&(be.$$scope={dirty:v,ctx:r}),y.$set(be),C.ctx=r,v&8&&Ee!==(Ee=rt(r[3]))&&tt(Ee,C)||Et(C,r,v);const Q={};v&5242880&&(Q.$$scope={dirty:v,ctx:r}),x.$set(Q);const we={};!Be&&v&4&&(Be=!0,we.value=r[2].source_url,me(()=>Be=!1)),Z.$set(we);const oe={};v&5242880&&(oe.$$scope={dirty:v,ctx:r}),te.$set(oe),r[1]?P?(P.p(r,v),v&2&&w(P,1)):(P=ft(r),P.c(),w(P,1),P.m(t,De)):P&&(Se(),D(P,1,1,()=>{P=null}),Ae());const ke={};v&4194305&&(ke.$$scope={dirty:v,ctx:r}),se.$set(ke)},i(n){Ve||(w(a.$$.fragment,n),w(V.$$.fragment,n),w(i.$$.fragment,n),w(d.$$.fragment,n),w(j.$$.fragment,n),w(W.$$.fragment,n),w(O.$$.fragment,n),w(y.$$.fragment,n),w(x.$$.fragment,n),w(Z.$$.fragment,n),w(te.$$.fragment,n),w(P),w(se.$$.fragment,n),Ve=!0)},o(n){D(a.$$.fragment,n),D(V.$$.fragment,n),D(i.$$.fragment,n),D(d.$$.fragment,n),D(j.$$.fragment,n),D(W.$$.fragment,n),D(O.$$.fragment,n),D(y.$$.fragment,n),D(x.$$.fragment,n),D(Z.$$.fragment,n),D(te.$$.fragment,n),D(P),D(se.$$.fragment,n),Ve=!1},d(n){n&&u(e),M(a),M(V),M(i),M(d),M(j),M(W),M(O),M(y),C.block.d(),C.token=null,C=null,M(x),M(Z),M(te),P&&P.d(),M(se),We=!1,Ye()}}}function ss(r,e,t){let s,a,{onSubmit:l}=e,{initialValues:f={full_description:"",mod_reference:"",name:"",short_description:"",source_url:""}}=e,{submitText:V="Create"}=e,{editing:m=!1}=e;const{form:k,data:i}=St({initialValues:f,extend:[At,Pt],validateSchema:nt,onSubmit:_=>l(qt(_,nt))});et(r,i,_=>t(2,a=_));const h=()=>{a.authors.push({role:"editor",user_id:""}),i.set(a)},c=_=>{a.authors.splice(_,1),i.set(a)};function d(_){r.$$.not_equal(a.name,_)&&(a.name=_,i.set(a))}function A(_){r.$$.not_equal(a.mod_reference,_)&&(a.mod_reference=_,i.set(a))}function E(_){r.$$.not_equal(a.short_description,_)&&(a.short_description=_,i.set(a))}function j(_){r.$$.not_equal(a.full_description,_)&&(a.full_description=_,i.set(a))}function pe(_){r.$$.not_equal(a.source_url,_)&&(a.source_url=_,i.set(a))}function $e(_,F){r.$$.not_equal(a.authors[F].user_id,_)&&(a.authors[F].user_id=_,i.set(a))}const W=_=>c(_);return r.$$set=_=>{"onSubmit"in _&&t(8,l=_.onSubmit),"initialValues"in _&&t(9,f=_.initialValues),"submitText"in _&&t(0,V=_.submitText),"editing"in _&&t(1,m=_.editing)},r.$$.update=()=>{r.$$.dirty&4&&t(3,s=a.full_description||"")},[V,m,a,s,k,i,h,c,l,f,d,A,E,j,pe,$e,W]}class fs extends Je{constructor(e){super();ye(this,e,ss,ts,xe,{onSubmit:8,initialValues:9,submitText:0,editing:1})}}export{fs as M};
//# sourceMappingURL=ModForm-5e95068f.js.map
